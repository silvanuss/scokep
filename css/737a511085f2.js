__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var o=r(d[4]).withRouter(r(d[5]).connect(function(o,{history:t}){var n,s,u,l,v;const c=r(d[0]).getViewer(o),R=null!==c,P=null===o||void 0===o?void 0:null===(n=o.auth)||void 0===n?void 0:null===(s=n.accountRecovery)||void 0===s?void 0:s.query,w=null===(u=t.location.state)||void 0===u?void 0:null===(l=u.previousLocation)||void 0===l?void 0:l.pathname;return{apiStatus:r(d[2]).getPasswordResetStatus(o),isLoggedIn:R,isResetProcessing:r(d[2]).isResetProcessing(o),modal:null===o||void 0===o?void 0:null===(v=o.settings)||void 0===v?void 0:v.passwordResetModal,query:null!=P&&''!==P?P:R?w===r(d[1]).PASSWORD_CHANGE_PATH?null===c||void 0===c?void 0:c.username:null:null===c||void 0===c?void 0:c.username}},function(o){return{onSubmitPasswordReset(t,n,s,u,l){o(r(d[3]).commitResetPassword(t,n,s,u,l))}}})(i(d[6])));e.default=o},15794176,[20971876,20971739,20775071,20972149,6,5,15794177]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=`${r(d[1]).PASSWORD_RESET_PATH}phone`,s=`${r(d[1]).PASSWORD_RESET_PATH}username`,o={fxcal:"fxcal"};var n=class extends a(d[6]).Component{constructor(...n){var l;super(...n),this.state={captchaSet:!1,countryCode:r(d[2]).getInitialCountryCode(),usernameEmailOrPhone:this.$ResetPasswordPage1(),hideModal:!1,selectedTab:this.$ResetPasswordPage2()?this.props.location.pathname:null,phone:'',usernameOrEmail:null!==(l=this.props.query)&&void 0!==l?l:''},this.$ResetPasswordPage4='',this.$ResetPasswordPage10=(t=>{this.setState({usernameEmailOrPhone:t.target.value})}),this.$ResetPasswordPage11=(t=>{this.setState({phone:t.target.value})}),this.$ResetPasswordPage12=(t=>{this.setState({usernameOrEmail:t.target.value})}),this.$ResetPasswordPage13=(n=>{if(n&&n.preventDefault(),this.$ResetPasswordPage14())return;const l=this.$ResetPasswordPage3();l===o.fxcal&&r(d[3]).logEvent({event:r(d[4]).FXSSOLoggerPasswordlessEvents.PASSWORDLESS_FLOW_TROUBLE_LOGGING_IN_PAGE_BUTTON_TAPPED});const P=this.$ResetPasswordPage8(),c=this.$ResetPasswordPage9();switch(this.state.selectedTab){case t:this.props.onSubmitPasswordReset(this.$ResetPasswordPage7(this.state.phone),this.$ResetPasswordPage4,l,P,c);break;case s:this.props.onSubmitPasswordReset(this.state.usernameOrEmail,this.$ResetPasswordPage4,l,P,c);break;default:this.props.onSubmitPasswordReset(this.state.usernameEmailOrPhone,this.$ResetPasswordPage4,l,P,c)}}),this.$ResetPasswordPage15=(t=>{r(d[5]).logLoginEvent({event_name:'account_recovery_page_signup_clicked'})}),this.$ResetPasswordPage16=(t=>{r(d[5]).logLoginEvent({event_name:'account_recovery_page_login_clicked'}),this.$ResetPasswordPage5()&&(t.preventDefault(),this.props.history.goBack())}),this.$ResetPasswordPage17=(t=>{this.setState({captchaSet:!0}),this.$ResetPasswordPage4=t}),this.$ResetPasswordPage18=(()=>{this.setState({hideModal:!0})}),this.$ResetPasswordPage19=(t=>{this.setState({countryCode:t})}),this.$ResetPasswordPage20=(()=>{const{usernameOrEmail:t}=this.state,{isLoggedIn:s,isResetProcessing:o}=this.props;return a(d[6]).createElement(r(d[7]).Box,{marginTop:4},a(d[6]).createElement("form",{method:"post",onSubmit:this.$ResetPasswordPage13},a(d[6]).createElement(r(d[7]).LabeledTextInput,{disabled:s||o,name:"cppEmailOrUsername",onChange:this.$ResetPasswordPage12,placeholder:a(d[8]).USERNAME_OR_EMAIL,value:t})))}),this.$ResetPasswordPage21=(()=>{const{countryCode:t,phone:s}=this.state;return a(d[6]).createElement(r(d[7]).Box,{marginTop:4},a(d[6]).createElement("form",{method:"post",onSubmit:this.$ResetPasswordPage13},a(d[6]).createElement(r(d[2]).PhoneNumberCountryCodeInput,{countryCode:t,onChange:this.$ResetPasswordPage11,onChangeCountryCode:this.$ResetPasswordPage19,placeholder:a(d[8]).PHONE,value:s})))})}componentDidMount(){this.$ResetPasswordPage3()===o.fxcal&&r(d[3]).logEvent({event:r(d[4]).FXSSOLoggerPasswordlessEvents.PASSWORDLESS_FLOW_TROUBLE_LOGGING_IN_PAGE_VIEW}),this.$ResetPasswordPage2()&&this.props.history.push(t)}static getDerivedStateFromProps(t){const{apiStatus:s,isResetProcessing:o}=t;return o||s!==r(d[9]).APIStatusValues.failure?null:{captchaSet:!1}}componentDidUpdate(t,s){s.captchaSet&&!this.state.captchaSet&&'undefined'!=typeof window&&window.grecaptcha&&window.grecaptcha.reset(),t.modal!==this.props.modal&&this.setState({hideModal:!1}),this.$ResetPasswordPage2()&&s.selectedTab!==this.props.location.pathname&&this.setState({selectedTab:this.props.location.pathname})}$ResetPasswordPage2(){return i(d[10])._("ig_web_acc_recovery_flow","085dcb8c8aee1e548e37de701cd9fb70")}$ResetPasswordPage5(){const t=this.$ResetPasswordPage6();return'api-login'===t||'fxcal'===t}$ResetPasswordPage7(t){const{countryCode:s}=this.state;return null!=s&&this.$ResetPasswordPage2()?`+${s.phoneCode}${t}`:t}$ResetPasswordPage3(){return this.$ResetPasswordPage6()===o.fxcal?o.fxcal:null}$ResetPasswordPage1(){const{source:t,username:s}=r(d[11]).parseQueryParams();return null!=this.props.query&&''!==this.props.query?this.props.query:t===o.fxcal&&null!=s&&''!==s?s:''}$ResetPasswordPage8(){return r(d[11]).parseQueryParams().app_id}$ResetPasswordPage6(){return r(d[11]).parseQueryParams().source}$ResetPasswordPage9(){return r(d[11]).parseQueryParams().source_account_id}$ResetPasswordPage22(){return a(d[6]).createElement(r(d[7]).Tabs,null,a(d[6]).createElement(r(d[7]).Tab,{component:this.$ResetPasswordPage20,path:s},a(d[8]).USERNAME_TAB),a(d[6]).createElement(r(d[7]).Tab,{component:this.$ResetPasswordPage21,path:t},a(d[8]).PHONE_TAB))}$ResetPasswordPage23(){const{isLoggedIn:t,isResetProcessing:s,query:o}=this.props,{usernameEmailOrPhone:n}=this.state,l=t&&null!=o&&''!==o;return a(d[6]).createElement("form",{method:"post",onSubmit:this.$ResetPasswordPage13},a(d[6]).createElement(r(d[7]).LabeledTextInput,{disabled:l||s,name:"cppEmailOrUsername",onChange:this.$ResetPasswordPage10,placeholder:a(d[8]).EMAIL_OR_USERNAME_OR_PHONE,value:n}))}$ResetPasswordPage14(){const{phone:o,selectedTab:n,usernameEmailOrPhone:l,usernameOrEmail:P}=this.state;return this.$ResetPasswordPage2()?n===t&&0===o.length||n===s&&0===P.length:0===l.length}render(){const{captchaSet:s,hideModal:n,selectedTab:l}=this.state,{isCaptchaEnabled:P,isLoggedIn:c,isResetProcessing:h,modal:u,recaptchaKey:p}=this.props,E=a(d[6]).createElement(r(d[7]).Box,null,a(d[6]).createElement(i(d[12]),{id:i(d[13]).resetPassword,title:a(d[8]).RESET_PASSWORD_BUTTON}),u&&!n?a(d[6]).createElement(r(d[7]).Dialog,{body:u.body,title:u.title},a(d[6]).createElement(r(d[7]).DialogItem,{color:"ig-primary-button",onClick:this.$ResetPasswordPage18},r(d[14]).OK_TEXT)):null,a(d[6]).createElement(r(d[7]).Box,{border:c&&!r(d[15]).isMobile(),color:c&&!r(d[15]).isMobile()?'ig-primary-background':void 0,flex:"grow",justifyContent:"center",marginEnd:"auto",marginStart:"auto",maxWidth:388},a(d[6]).createElement(r(d[7]).Box,{marginBottom:c?4:void 0,marginTop:c?4:void 0},a(d[6]).createElement(r(d[7]).Box,{alignItems:"center",marginBottom:4,marginTop:6},a(d[6]).createElement("span",{className:"coreSpriteLockSmall"})),a(d[6]).createElement(r(d[7]).Box,{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0},a(d[6]).createElement(r(d[7]).Text.Section,{textAlign:"center"},a(d[8]).ACCOUNT_RECOVERY_TITLE)),a(d[6]).createElement(r(d[7]).Box,{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0},a(d[6]).createElement(r(d[7]).Text.Body,{color:"ig-secondary-text",textAlign:"center"},l===t?a(d[8]).ACCOUNT_RECOVERY_TABBED_PARAGRAPH_PHONE:a(d[8]).ACCOUNT_RECOVERY_PARAGRAPH_WITH_PHONE)),a(d[6]).createElement(r(d[7]).Box,{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0},this.$ResetPasswordPage2()?this.$ResetPasswordPage22():this.$ResetPasswordPage23()),P&&a(d[6]).createElement(r(d[7]).Box,{alignItems:"center",marginBottom:4,marginEnd:0,marginStart:0,marginTop:0},a(d[6]).createElement(i(d[16]),{onChange:this.$ResetPasswordPage17,sitekey:p,size:"normal"})),a(d[6]).createElement(r(d[7]).Box,{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0},a(d[6]).createElement(r(d[7]).Button,{disabled:this.$ResetPasswordPage14()||P&&!s||h,onClick:this.$ResetPasswordPage13},a(d[8]).SEND_LOGIN_LINK)),!c&&this.$ResetPasswordPage3()!==o.fxcal&&a(d[6]).createElement(a(d[6]).Fragment,null,a(d[6]).createElement(r(d[7]).Box,{marginBottom:4,marginEnd:11,marginStart:11,marginTop:4},a(d[6]).createElement(i(d[17]),null)),a(d[6]).createElement(r(d[7]).Box,{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0},a(d[6]).createElement(r(d[7]).Button,{borderless:!0,color:"ig-secondary-button",href:r(d[1]).EMAIL_SIGNUP_PATH,onClick:this.$ResetPasswordPage15},a(d[8]).CREATE_A_NEW_ACCOUNT)),a(d[6]).createElement(r(d[7]).Box,{bottom:!0,left:!0,marginTop:r(d[15]).isMobile()?0:17,position:r(d[15]).isMobile()?'fixed':'static',right:!0},a(d[6]).createElement(r(d[7]).Box,{border:!0,color:"ig-secondary-background",height:44,justifyContent:"around"},a(d[6]).createElement(r(d[7]).Button,{borderless:!0,color:"ig-secondary-button",href:r(d[18]).buildLoginLink('',{source:'reset_password'}),onClick:this.$ResetPasswordPage16},a(d[8]).BACK_TO_LOGIN)))))));return c?a(d[6]).createElement(i(d[19]),{pageIdentifier:i(d[13]).resetPassword},a(d[6]).createElement(r(d[7]).Box,{height:"100%",justifyContent:"center"},E)):a(d[6]).createElement(i(d[20]),{hideFooter:r(d[15]).isMobile(),pageIdentifier:i(d[13]).resetPassword,title:a(d[8]).RESET_PASSWORD_BUTTON},E)}};e.default=n,e.PAGE_ID=i(d[13]).resetPassword},15794177,[21037173,20971739,20776158,20775620,20775621,20971947,3,21037102,21037365,20972150,20971674,20971927,21037512,20971736,20971889,20971527,21037567,20775418,20971787,20775077,10747905]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);e.default=class extends a(d[2]).Component{$PlainShell1(){return a(d[2]).createElement("div",{className:"paRpx coreSpriteMobileNavTypeLogo"})}render(){const{children:t,headerText:l,hideFooter:n,mobileLeftAction:o,mobileRightAction:s,pageIdentifier:c,title:h}=this.props;return a(d[2]).createElement(i(d[3]),{footerElement:n?null:void 0,hideNavigation:!0,pageIdentifier:c,title:h},r(d[4]).isMobile()?a(d[2]).createElement(i(d[5]),{className:"aytYC",leftActions:o,rightActions:s,title:null!=l&&''!==l?l:this.$PlainShell1()}):a(d[2]).createElement(i(d[6]),{analyticsContext:"",hideLoggedInItems:!0,hideSearchBar:!0,hideSignUpAndLogInText:!0}),a(d[2]).createElement("div",{className:i(d[7])("_8qite",this.props.className)},r(d[4]).isMobile()?t:Boolean(t)&&a(d[2]).createElement(i(d[8]),null,t)))}}},10747905,[21037173,10747906,3,20775077,20971527,21037357,21037389,21037108,10747907]);
__d(function() {},10747906,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.default=function({className:t,children:c}){return a(d[1]).createElement("div",{className:i(d[2])("AHCwU",t)},c)}},10747907,[10747908,3,21037108]);
__d(function() {},10747908,[]);